(this["webpackJsonpspotify-audio-analysis"]=this["webpackJsonpspotify-audio-analysis"]||[]).push([[0],{334:function(e,t,a){},335:function(e,t,a){},336:function(e,t,a){},337:function(e,t,a){},416:function(e,t,a){},425:function(e,t,a){},426:function(e,t,a){},600:function(e,t,a){},601:function(e,t,a){},606:function(e,t,a){},609:function(e,t,a){},613:function(e,t,a){},618:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a(0),s=a.n(c),r=a(31),i=a.n(r),o=(a(334),a(18)),l=(a(335),a(84)),d=a(44),j=(a(336),a(337),a.p+"static/media/collage.049726ee.jpg"),h=a(628),b=a(113),u=a(621),p=a.p+"static/media/report.e080a35d.png",O=a.p+"static/media/barGraph.623f29bb.png",m=a.p+"static/media/scatter.d49d4958.png";var x,f=function(e){return Object(n.jsxs)("div",{className:"rootContainer",children:[Object(n.jsx)("div",{className:"imageContainer",children:Object(n.jsx)("img",{alt:"background",className:"titleImage",src:j})}),Object(n.jsxs)("div",{className:"contentContainer",children:[Object(n.jsx)("div",{className:"leftContainer",children:Object(n.jsxs)("div",{className:"wrapper",children:[Object(n.jsx)(h.a.Title,{children:"Trumendous Tracks"}),Object(n.jsx)(h.a.Text,{children:"Make the most fire playlist ever"}),Object(n.jsx)(b.a,{style:{marginTop:20},onClick:function(){var e="https://accounts.spotify.com/authorize";e+="?response_type=code",e+="&client_id="+encodeURIComponent("0132ec2527844f11a38d2534ba740119"),e+="&code_challenge_method="+encodeURIComponent("S256"),e+="&redirect_uri="+encodeURIComponent("http://harsh-sheth.com/SpotifyAudioAnalysis/login"),e+="&code_challenge="+encodeURIComponent("izYoorSARD-nZzl4xsuoPIwZAVIZ1h-OkIL0eSTu-PA"),window.location=e},children:"Get Started"})]})}),Object(n.jsx)("div",{className:"rightContainer",children:Object(n.jsxs)(u.a,{autoplay:!0,children:[Object(n.jsxs)("div",{className:"carouselContentDiv",children:[Object(n.jsx)(h.a.Title,{level:4,children:"Generate a playlist report"}),Object(n.jsx)("img",{width:"700px",alt:"report",className:"reportImage",src:p})]}),Object(n.jsxs)("div",{className:"carouselContentDiv",children:[Object(n.jsx)(h.a.Title,{level:4,children:"Sort the data in a bar graph and find outliers"}),Object(n.jsx)("img",{width:"700px",alt:"report",className:"reportImage",src:O})]}),Object(n.jsxs)("div",{className:"carouselContentDiv",children:[Object(n.jsx)(h.a.Title,{level:4,children:"Compare the data with other playlists"}),Object(n.jsx)("img",{width:"700px",alt:"report",className:"reportImage",src:m})]})]})})]})]})},g=a(51),y=a(307);function v(){return Object(c.useContext)(x)}var N=function(e){var t=e.children,a=Object(y.a)(e,["children"]),c=v().isAuth;return Object(n.jsx)(d.b,Object(g.a)(Object(g.a)({},a),{},{children:!0===c?Object(g.a)({},t):Object(n.jsx)(d.a,{to:"/"})}))},C=a(622),k=a(53),T=a.n(k);var S=function(){var e=Object(c.useState)(!1),t=Object(o.a)(e,2)[1],a=v(),s=a.isAuth,r=a.setIsAuth,i=Object(C.a)(["Authorization","Refresh"]),l=Object(o.a)(i,2)[1],j=Object(c.useState)(""),h=Object(o.a)(j,2),b=h[0],u=h[1],p=Object(d.g)();Object(c.useEffect)((function(){if(""!==b){var e=new URLSearchParams;e.append("client_id","0132ec2527844f11a38d2534ba740119"),e.append("grant_type","authorization_code"),e.append("code",b),e.append("redirect_uri","http://harsh-sheth.com/SpotifyAudioAnalysis/login"),e.append("code_verifier","ANz2ppxOjupHIlUeegvCuBMmsaxKxrIqTV25wZHBLRX0m"),T.a.post("https://accounts.spotify.com/api/token",e,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){localStorage.setItem("Authorization",e.data.access_token),localStorage.setItem("Refresh",e.data.refresh_token),r(!0),p.push("/app/search")})).catch((function(){p.push("/")}))}}),[b,s,l,r,p]);var O,m=window.location.search;return m.includes("error")&&t(!0),""===b&&-1!==(O=m.indexOf("code="))&&u(m.substring(O+5)),Object(n.jsx)("div",{})},w=a(625),I=(a(416),a.p+"static/media/search-solid.623743d0.svg"),A=a(631),z=a(623),R=a(43),B=a(199),_=a.n(B),D=a(45),E=a(282);function P(){return(P=Object(E.a)(_.a.mark((function e(t,a){var n,c,s,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("Authorization"),e.next=3,T.a.get("https://api.spotify.com/v1/playlists/".concat(t,"/tracks"),{headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){return e.data.items}));case 3:return c=e.sent,s=c.map((function(e){return e.track.id})).join(","),e.next=7,T.a.get("https://api.spotify.com/v1/audio-features?ids=".concat(s),{headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){return e.data.audio_features.map((function(e){return Object(D.a)({},e.id,e)})).reduce((function(e,t){return Object(g.a)(Object(g.a)({},e),t)}),{})}));case 7:return r=e.sent,e.abrupt("return",K(c,r));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),a=t[0],n=t[1],s=localStorage.getItem("Authorization");return Object(c.useEffect)((function(){T.a.get("https://api.spotify.com/v1/me/playlists",{headers:{Authorization:"Bearer ".concat(s)}}).then((function(e){n(e.data.items)}))}),[s]),[a,n]}function K(e,t){return e.map((function(e){return{name:Object(R.truncate)(e.track.name,{length:18}),danceability:t[e.track.id].danceability,energy:t[e.track.id].energy,valence:t[e.track.id].valence,tempo:t[e.track.id].tempo,loudness:Object(R.round)((t[e.track.id].loudness+60)/60,3)}}))}function F(e){var t=function(e){var t=Object(c.useState)([]),a=Object(o.a)(t,2),n=a[0],s=a[1],r=localStorage.getItem("Authorization");return Object(c.useEffect)((function(){T.a.get("https://api.spotify.com/v1/playlists/".concat(e,"/tracks"),{headers:{Authorization:"Bearer ".concat(r)}}).then((function(e){s(e.data.items)}))}),[r,e]),n}(e),a=function(e){var t=Object(c.useState)({}),a=Object(o.a)(t,2),n=a[0],s=a[1],r=localStorage.getItem("Authorization"),i=e.map((function(e){return e.track.id})).join(",");return Object(c.useEffect)((function(){0!==e.length&&T.a.get("https://api.spotify.com/v1/audio-features?ids=".concat(i),{headers:{Authorization:"Bearer ".concat(r)}}).then((function(e){var t=e.data.audio_features.map((function(e){return Object(D.a)({},e.id,e)})).reduce((function(e,t){return Object(g.a)(Object(g.a)({},e),t)}),{});s(t)}))}),[r,i,e]),n}(t),n=Object(c.useState)([]),s=Object(o.a)(n,2),r=s[0],i=s[1];return Object(c.useEffect)((function(){if(!Object(R.isEmpty)(t)&&!Object(R.isEmpty)(a)){var e=K(t,a);i(e)}}),[t,a]),[r,i]}T.a.interceptors.response.use((function(e){return e}),(function(e){var t=e.config;if(401===e.response.status){localStorage.setItem("isAuth","false"),t._retry=!0,console.log(localStorage.getItem("Refresh"));var a=new URLSearchParams;a.append("grant_type","refresh_token"),a.append("refresh_token",localStorage.getItem("Refresh")||""),a.append("client_id","0132ec2527844f11a38d2534ba740119"),T.a.post("https://accounts.spotify.com/api/token",a,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){localStorage.setItem("Authorization",e.data.access_token),localStorage.setItem("Refresh",e.data.refresh_token)})).then((function(){localStorage.setItem("isAuth","true"),window.location.reload()}))}}));var L,W,Y,Z=function(e){var t=G(),a=Object(o.a)(t,1)[0],c=Object(d.g)();return Object(n.jsx)("div",{className:"background",children:Object(n.jsxs)("div",{className:"pageContainer",children:[Object(n.jsx)(h.a.Title,{children:"Search for a playlist to get started"}),Object(n.jsx)("div",{className:"searchBox",children:Object(n.jsxs)("form",{className:"searchForm",onSubmit:function(e){e.preventDefault();var t=e.target[0].value,n=Object(R.find)(a,(function(e){return e.name===t}));return c.push("/app/playlist/report?playlistName=".concat(n.name,"&playlistId=").concat(n.id))},children:[Object(n.jsx)(A.a.Group,{className:"searchInput",compact:!0,children:Object(n.jsx)(z.a,{placeholder:"Search Here",options:a.map((function(e){return{value:e.name}}))})}),Object(n.jsx)(b.a,{htmlType:"submit",children:Object(n.jsx)("img",{className:"searchIcon",alt:"searchIcon",src:I})})]})})]})})},U=(a(425),a(426),a(203)),V=a(633),X=a(634),H=a(635),M=a(636),J=a(637),q=a(638),Q=a(639),$=a(640);!function(e){e.None="none",e.BarGraph="bar",e.ScatterGraph="scatter",e.Info="info",e.Report="report",e.Search="search"}(L||(L={})),function(e){e.danceability="danceability",e.energy="energy",e.valence="valence",e.tempo="tempo",e.loudness="loudness"}(W||(W={})),function(e){e.Search="Search",e.BarChart="BarChart",e.ScatterChart="ScatterChart",e.Report="Report",e.Extras="Extras",e.Info="Info"}(Y||(Y={}));var ee=function(e){var t=e.contentType,a=e.setContentType,r=Object(c.useState)(!1),i=Object(o.a)(r,2),l=i[0],j=i[1],u=function(){var e=Object(c.useState)({display_name:"Harsh",images:[]}),t=Object(o.a)(e,2),a=t[0],n=t[1],s=localStorage.getItem("Authorization");return Object(c.useEffect)((function(){T.a.get("https://api.spotify.com/v1/me",{headers:{Authorization:"Bearer ".concat(s)}}).then((function(e){n(e.data)}))}),[s]),a}(),p=Object(d.g)(),O=function(){return u.images&&u.images.length>0};return Object(n.jsxs)("div",{className:l?"sidebarRoot sidebarOpen":"sidebarRoot",children:[Object(n.jsxs)("div",{className:"userInfoCard",children:[!O()&&Object(n.jsx)(V.a,{className:"userIcon"}),O()&&Object(n.jsx)("img",{className:"profileImage",alt:"userImage",src:u.images[0].url}),l&&Object(n.jsx)(h.a.Text,{className:"profileText",children:u.display_name})]}),Object(n.jsx)(b.a,{onClick:function(){return j(!l)},type:"primary",style:{marginBottom:16},children:s.a.createElement(l?H.a:X.a)}),Object(n.jsxs)(U.a,{selectedKeys:[t],inlineCollapsed:!l,className:"sidebarMenu",theme:"dark",mode:"inline",defaultSelectedKeys:[Y.Report.toString()],onClick:function(e){return function(e){var t=e,n=window.location.search;return a(t),t===L.Search?p.push("/app/search"):t===L.BarGraph?p.push("/app/playlist/bar".concat(n)):t===L.ScatterGraph?p.push("/app/playlist/scatter".concat(n)):t===L.Report?p.push("/app/playlist/report".concat(n)):t===L.Info?p.push("/app/playlist/info".concat(n)):void 0}(e.key)},children:[Object(n.jsx)(U.a.Item,{icon:Object(n.jsx)(M.a,{}),children:"Search"},L.Search),Object(n.jsx)(U.a.Item,{icon:Object(n.jsx)(J.a,{}),children:"Report"},L.Report),Object(n.jsx)(U.a.Item,{icon:Object(n.jsx)(q.a,{}),children:"Bar Chart"},L.BarGraph),Object(n.jsx)(U.a.Item,{icon:Object(n.jsx)(Q.a,{}),children:"Scatter Chart"},L.ScatterGraph),Object(n.jsx)(U.a.Item,{icon:Object(n.jsx)($.a,{}),children:"Info"},L.Info)]})]})},te=a(627),ae=a(35);a(600);var ne,ce,se=function(e){var t=e.x,a=e.y,c=e.payload;return Object(n.jsx)("g",{transform:"translate(".concat(t,",").concat(a,")"),children:Object(n.jsx)("text",{className:"graphText",x:0,y:0,dy:3,textAnchor:"end",transform:"rotate(10)",opacity:"0.85",fill:"#ffffff",children:c.value})})},re=a(629),ie=a(632),oe=a(630);a(601);!function(e){e.none="none",e.danceability="danceability",e.energy="energy",e.valence="valence",e.tempo="tempo",e.loudness="loudness"}(ne||(ne={})),function(e){e.ascending="ascending",e.descending="descending"}(ce||(ce={}));var le,de=function(){var e=window.location.search.match(/playlistId=(.*)/)[1],t=Object(c.useState)({danceability:!0,energy:!1,valence:!1,tempo:!1,loudness:!1}),a=Object(o.a)(t,2),s=a[0],r=a[1],i=Object(c.useState)(ne.none),l=Object(o.a)(i,2),d=l[0],j=l[1],b=Object(c.useState)([]),u=Object(o.a)(b,2),p=u[0],O=u[1],m=Object(c.useState)(1),x=Object(o.a)(m,2),f=x[0],y=x[1],v=Object(c.useState)(ce.descending),N=Object(o.a)(v,2),C=N[0],k=N[1],T=Object(c.useCallback)((function(e){return d===ne.none?e:C===ce.descending?e.sort((function(e,t){return e[d]-t[d]})):e.sort((function(e,t){return t[d]-e[d]}))}),[d,C]),S=Object(c.useCallback)((function(e){return e.slice(30*(f-1),30*(f-1)+30)}),[f]),w=F(e),I=Object(o.a)(w,2),A=I[0],z=I[1];return Object(c.useEffect)((function(){var e=T(A);z(e),O(S(e))}),[d,C,A,T,S,z]),Object(n.jsxs)("div",{className:"pageRootBar",children:[Object(n.jsxs)("div",{className:"graphContainerBar",children:[Object(n.jsx)("div",{className:"barGraph",children:Object(n.jsxs)(ae.b,{barCategoryGap:"15%",layout:"vertical",width:730,height:1100,data:p,children:[Object(n.jsx)(ae.c,{strokeDasharray:"3 3"}),Object(n.jsx)(ae.m,{type:"number"}),Object(n.jsx)(ae.n,{tick:Object(n.jsx)(se,{}),type:"category",width:100,interval:0,dataKey:"name"}),Object(n.jsx)(ae.l,{}),Object(n.jsx)(ae.d,{}),s.danceability&&Object(n.jsx)(ae.a,{dataKey:"danceability",fill:"#8884d8"}),s.energy&&Object(n.jsx)(ae.a,{dataKey:"energy",fill:"#84d89d"}),s.valence&&Object(n.jsx)(ae.a,{dataKey:"valence",fill:"#bd84d8"}),s.tempo&&Object(n.jsx)(ae.a,{dataKey:"tempo",fill:"#d88492"}),s.loudness&&Object(n.jsx)(ae.a,{dataKey:"loudness",fill:"#d8d284"})]})}),Object(n.jsxs)("div",{className:"paginateContainer",children:[Object(n.jsx)(h.a.Text,{style:{fontSize:"1rem",fontWeight:"bold"},children:"Pagination"}),Object(n.jsx)(re.a,{simple:!0,onChange:function(e){return y(e)},current:f,pageSize:30,total:A.length})]})]}),Object(n.jsxs)("div",{className:"settingsContainerBar",children:[Object(n.jsxs)("div",{className:"checkboxContainer",children:[Object(n.jsx)(h.a.Text,{style:{fontSize:"1rem",fontWeight:"bold"},children:"Features"}),Object(n.jsxs)("div",{children:[Object(n.jsx)(ie.a,{checked:s.danceability,onChange:function(){return R("danceability")}}),Object(n.jsx)("span",{className:"graphCheckboxText",children:"Danceability"})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)(ie.a,{checked:s.energy,onChange:function(){return R("energy")}}),Object(n.jsx)("span",{className:"graphCheckboxText",children:"Energy"})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)(ie.a,{checked:s.valence,onChange:function(){return R("valence")}}),Object(n.jsx)("span",{className:"graphCheckboxText",children:"Valence"})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)(ie.a,{checked:s.tempo,onChange:function(){return R("tempo")}}),Object(n.jsx)("span",{className:"graphCheckboxText",children:"Tempo"})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)(ie.a,{checked:s.loudness,onChange:function(){return R("loudness")}}),Object(n.jsx)("span",{className:"graphCheckboxText",children:"Loudness"})]})]}),Object(n.jsxs)("div",{className:"sortContainer",children:[Object(n.jsx)(h.a.Text,{style:{fontSize:"1rem",fontWeight:"bold"},children:"Sort By"}),Object(n.jsxs)(oe.a.Group,{value:d,onChange:function(e){return j(e.target.value)},style:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[Object(n.jsx)(oe.a,{value:ne.none,children:Object(n.jsx)("span",{className:"graphCheckboxText",children:"None"})}),Object(n.jsx)(oe.a,{value:ne.danceability,disabled:!s.danceability,children:Object(n.jsx)("span",{className:"graphCheckboxText",children:"Danceability"})}),Object(n.jsx)(oe.a,{value:ne.energy,disabled:!s.energy,children:Object(n.jsx)("span",{className:"graphCheckboxText",children:"Energy"})}),Object(n.jsx)(oe.a,{value:ne.valence,disabled:!s.valence,children:Object(n.jsx)("span",{className:"graphCheckboxText",children:"Valence"})}),Object(n.jsx)(oe.a,{value:ne.tempo,disabled:!s.tempo,children:Object(n.jsx)("span",{className:"graphCheckboxText",children:"Tempo"})}),Object(n.jsx)(oe.a,{value:ne.loudness,disabled:!s.loudness,children:Object(n.jsx)("span",{className:"graphCheckboxText",children:"Loudness"})})]})]}),Object(n.jsxs)("div",{className:"sortContainer",children:[Object(n.jsx)(h.a.Text,{style:{fontSize:"1rem",fontWeight:"bold"},children:"Sort Order"}),Object(n.jsxs)(oe.a.Group,{value:C,onChange:function(e){return k(e.target.value)},style:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[Object(n.jsx)(oe.a,{value:ce.ascending,disabled:d===ne.none,children:Object(n.jsx)("span",{className:"graphCheckboxText",children:"Ascending"})}),Object(n.jsx)(oe.a,{value:ce.descending,disabled:d===ne.none,children:Object(n.jsx)("span",{className:"graphCheckboxText",children:"Descending"})})]})]})]})]});function R(e){r(Object(g.a)(Object(g.a)({},s),{},Object(D.a)({},e,!s[e])))}},je=a(204),he=a(624),be=a(641),ue=a(642),pe=(a(606),a(90)),Oe=a.n(pe),me=["#1791db","#84d89d","#bd84d8","#d88492","#d8d284"],xe=(le={},Object(D.a)(le,W.danceability,[0,1]),Object(D.a)(le,W.energy,[0,1]),Object(D.a)(le,W.loudness,[0,1]),Object(D.a)(le,W.valence,[0,1]),Object(D.a)(le,W.tempo,[0,250]),le);var fe=function(){var e=Object(C.a)(["Authorization"]),t=Object(o.a)(e,1)[0],a=window.location.search,s=a.match(/playlistId=(.*)/)[1],r=a.match(/playlistName=(.*)&/)[1],i=Object(c.useState)({X:W.danceability,Y:W.energy,Z:W.loudness}),l=Object(o.a)(i,2),d=l[0],j=l[1],u=F(s),p=Object(o.a)(u,1)[0],O=G(),m=Object(o.a)(O,1)[0],x=Object(c.useState)([]),f=Object(o.a)(x,2),y=f[0],v=f[1],N=function(e){return Object(n.jsxs)(U.a,{onClick:function(t){return function(e,t){j(Object(g.a)(Object(g.a)({},d),{},Object(D.a)({},t,e.key)))}(t,e)},children:[Object(n.jsx)(U.a.Item,{children:"Danceability"},W.danceability),Object(n.jsx)(U.a.Item,{children:"Energy"},W.energy),Object(n.jsx)(U.a.Item,{children:"Valence"},W.valence),Object(n.jsx)(U.a.Item,{children:"Tempo"},W.tempo),Object(n.jsx)(U.a.Item,{children:"Loudness"},W.loudness)]})};return Object(n.jsxs)("div",{className:"pageRoot",children:[y.length<5&&Object(n.jsx)("div",{className:"settingsContainer",children:Object(n.jsxs)("div",{className:"formContainer",children:["Add more playlists to compare",Object(n.jsxs)("form",{className:"searchForm",onSubmit:function(e){e.preventDefault();var a=e.target[0].value,n=Object(R.find)(m,(function(e){return e.name===a}));(function(e,t){return P.apply(this,arguments)})(n.id,t).then((function(e){v([].concat(Object(je.a)(y),[{playlist:n,graphData:e,visible:!0}]))}))},children:[Object(n.jsx)(A.a.Group,{className:"searchInput",children:Object(n.jsx)(z.a,{placeholder:"",options:m.map((function(e){return{value:e.name}}))})}),Object(n.jsx)(b.a,{htmlType:"submit",children:Object(n.jsx)(be.a,{})})]})]})}),Object(n.jsx)("div",{className:"graphContainer",children:Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("div",{className:"xAxisFeature",children:Object(R.startCase)(d.X)}),Object(n.jsxs)("div",{className:"graph",children:[Object(n.jsxs)(ae.k,{width:730,height:730,margin:{top:20,right:0,bottom:10,left:0},children:[Object(n.jsx)(ae.m,{dataKey:d.X,type:"number",domain:xe[d.X],name:"danceability"}),Object(n.jsx)(ae.n,{dataKey:d.Y,type:"number",domain:xe[d.Y],name:"energy"}),Object(n.jsx)(ae.o,{dataKey:d.Z,type:"number",range:[0,300],name:"valence"}),Object(n.jsx)(ae.l,{cursor:{strokeDasharray:"3 3"}}),Object(n.jsx)(ae.d,{}),Object(n.jsx)(ae.c,{strokeDasharray:"5 5"}),Object(n.jsx)(ae.j,{name:Oe()(r),data:p,fill:"#8884d8"}),y.map((function(e,t){return e.visible&&Object(n.jsx)(ae.j,{name:e.playlist.name,data:e.graphData,fill:me[t]})}))]}),Object(n.jsx)("div",{children:Object(R.startCase)(d.Y)})]}),Object(n.jsxs)("div",{className:"selectedPlaylists",children:[y.length>0&&Object(n.jsx)("span",{children:"Visible Playlists"}),y.map((function(e,t){return Object(n.jsx)("div",{children:Object(n.jsx)(ie.a,{checked:e.visible,onClick:function(){return function(e){for(var t=0;t<y.length;t++)y[t].playlist.id===e&&(y[t].visible=!y[t].visible);v(Object(je.a)(y))}(e.playlist.id)},className:"selectedPlaylistCheckbox",children:e.playlist.name},e.playlist.id)})}))]})]})}),Object(n.jsxs)("div",{className:"settingsContainer",children:[Object(n.jsxs)("div",{className:"dropdownLabelContainer",children:[Object(n.jsx)(h.a.Text,{children:"X-Axis Feature"}),Object(n.jsx)(he.a,{overlay:N("X"),children:Object(n.jsxs)(b.a,{children:[Object(R.startCase)(d.X)," ",Object(n.jsx)(ue.a,{})]})})]}),Object(n.jsxs)("div",{className:"dropdownLabelContainer",children:[Object(n.jsx)(h.a.Text,{children:"Y-Axis Feature"}),Object(n.jsx)(he.a,{overlay:N("Y"),children:Object(n.jsxs)(b.a,{children:[Object(R.startCase)(d.Y)," ",Object(n.jsx)(ue.a,{})]})})]}),Object(n.jsxs)("div",{className:"dropdownLabelContainer",children:[Object(n.jsx)(h.a.Text,{children:"Z-Axis Feature"}),Object(n.jsx)(he.a,{overlay:N("Z"),children:Object(n.jsxs)(b.a,{children:[Object(R.startCase)(d.Z)," ",Object(n.jsx)(ue.a,{})]})})]})]})]})},ge=a(626);a(609);var ye=function(){return Object(n.jsx)("div",{className:"infoPageRoot",children:Object(n.jsxs)("div",{className:"cardContainer",children:[Object(n.jsx)(ge.a,{className:"card",title:"What is this?",bordered:!0,style:{width:"100%"},children:Object(n.jsx)(h.a.Paragraph,{children:"This tool allows a user to analyze their playlist objectively. By analyzing different things such as the: valence, danceability, energy of a track We are able to create the ultimate playlist. Trying to create a study playlist? Well you probably don't want extremely high energy songs. Trying to create a banger playlist for your next event? You probably want your songs to have a low danceability. Use this tool to help you craft the ultimate playlist"})}),Object(n.jsx)(ge.a,{className:"card",title:"What are my analysis tools?",bordered:!0,style:{width:"100%"},children:Object(n.jsx)(h.a.Paragraph,{children:"As of now we offer two tools. You can sort and organize your data into a bar graph, where you can find the outliers and address them appropriately. However, this playlist data on its own is not extremely useful. We make is more useful by offering another scatter chart tool. Here you can add up to 5 playlists, and see how all of them stack up against one another. Then you can compare with your favourite playlists and see how your playlist stacks up against them."})}),Object(n.jsxs)(ge.a,{className:"card subCardContainer",title:"What do all these features mean?",bordered:!0,style:{width:"100%"},children:[Object(n.jsx)(ge.a,{className:"subCard",title:"Danceability",bordered:!0,style:{width:"100%"},children:Object(n.jsx)(h.a.Paragraph,{children:"Danceability describes how suitable a track is for dancing based on a combination of musical elements including tempo, rhythm stability, beat strength, and overall regularity. A value of 0.0 is least danceable and 1.0 is most danceable."})}),Object(n.jsx)(ge.a,{className:"subCard",title:"Energy",bordered:!0,style:{width:"100%"},children:Object(n.jsx)(h.a.Paragraph,{children:"Energy is a measure from 0.0 to 1.0 and represents a perceptual measure of intensity and activity. Typically, energetic tracks feel fast, loud, and noisy. For example, death metal has high energy, while a Bach prelude scores low on the scale. Perceptual features contributing to this attribute include dynamic range, perceived loudness, timbre, onset rate, and general entropy."})}),Object(n.jsx)(ge.a,{className:"subCard",title:"Valence",bordered:!0,style:{width:"100%"},children:Object(n.jsx)(h.a.Paragraph,{children:"A measure from 0.0 to 1.0 describing the musical positiveness conveyed by a track. Tracks with high valence sound more positive (e.g. happy, cheerful, euphoric), while tracks with low valence sound more negative (e.g. sad, depressed, angry)."})}),Object(n.jsx)(ge.a,{className:"subCard",title:"Tempo",bordered:!0,style:{width:"100%"},children:Object(n.jsx)(h.a.Paragraph,{children:"The overall estimated tempo of a track in beats per minute (BPM). In musical terminology, tempo is the speed or pace of a given piece and derives directly from the average beat duration."})})]})]})})},ve=a(202),Ne=a.n(ve);a(613);var Ce=function(){var e=window.location.search,t=e.match(/playlistId=(.*)/)[1],a=e.match(/playlistName=(.*)&/)[1],s=function(e){var t=Object(c.useState)(""),a=Object(o.a)(t,2),n=a[0],s=a[1],r=localStorage.getItem("Authorization");return Object(c.useEffect)((function(){T.a.get("https://api.spotify.com/v1/playlists/".concat(e,"/images"),{headers:{Authorization:"Bearer ".concat(r)}}).then((function(e){s(e.data[0].url)}))})),[n,s]}(t),r=Object(o.a)(s,1)[0],i=function(e){var t=Object(c.useState)({name:"",id:"",description:"",owner:{display_name:""},tracks:{items:[]},followers:{total:0}}),a=Object(o.a)(t,2),n=a[0],s=a[1],r=localStorage.getItem("Authorization");return Object(c.useEffect)((function(){T.a.get("https://api.spotify.com/v1/playlists/".concat(e),{headers:{Authorization:"Bearer ".concat(r)}}).then((function(e){s(e.data)}))}),[r,e]),[n,s]}(t),l=Object(o.a)(i,1)[0],d=function(e,t){var a=Object(c.useState)([Object(D.a)({name:"danceability"},t,0),Object(D.a)({name:"energy"},t,0),Object(D.a)({name:"valence"},t,0)]),n=Object(o.a)(a,2),s=n[0],r=n[1],i=localStorage.getItem("Authorization");return Object(c.useEffect)((function(){T.a.get("https://api.spotify.com/v1/playlists/".concat(e,"/tracks"),{headers:{Authorization:"Bearer ".concat(i)}}).then((function(e){return e.data.items.map((function(e){return Object(D.a)({},e.track.name,Object(g.a)({},e))}))})).then((function(e){return e.map((function(e){return e[Object.keys(e)[0]].track.id})).join(",")})).then((function(e){return T.a.get("https://api.spotify.com/v1/audio-features?ids=".concat(e),{headers:{Authorization:"Bearer ".concat(i)}})})).then((function(e){return e?e.data.audio_features:[]})).then((function(e){return e.reduce((function(t,a){return{danceability:t.danceability+a.danceability/e.length,energy:t.energy+a.energy/e.length,valence:t.valence+a.valence/e.length,tempo:t.tempo+a.tempo/e.length,loudness:t.loudness+a.loudness/e.length}}),{danceability:0,energy:0,valence:0,tempo:0,loudness:0})})).then((function(e){var a={danceability:Object(D.a)({name:"danceability"},t,e.danceability),energy:Object(D.a)({name:"energy"},t,e.energy),valence:Object(D.a)({name:"valence"},t,e.valence)};r(Object.values(a))}))}),[i,e,t]),[s,r]}(t,a),j=Object(o.a)(d,1)[0];function b(e){var t=Object(R.find)(j,(function(t){return t.name===e}))[a];return"".concat(Object(R.round)(100*t,0),"%")}return Object(n.jsxs)("div",{className:"reportRoot",children:[Object(n.jsx)("div",{className:"header",children:Object(n.jsxs)("div",{className:"headerTitleContainer",children:[Object(n.jsx)("img",{className:"playlistCoverImage",alt:"playlist cover",src:r}),Object(n.jsxs)("div",{className:"headerTextContainer",children:[Object(n.jsx)(h.a.Text,{className:"headerTitle",children:"Report for ".concat(Oe()(a))}),Object(n.jsx)(h.a.Text,{className:"headerSubtitle",children:l.description}),Object(n.jsxs)(h.a.Text,{children:["By: ",l.owner.display_name]})]})]})}),Object(n.jsxs)("div",{className:"infoContainer",children:[Object(n.jsxs)(h.a.Text,{children:["Tracks: ",Object(R.get)(l,"tracks.items",[]).length," "]}),Object(n.jsxs)(h.a.Text,{children:["Total Duration: ",Ne()(0===l.tracks.items.length?0:l.tracks.items.reduce((function(e,t){return e+Object(R.get)(t,"track.duration_ms")}),0))," "]}),Object(n.jsxs)(h.a.Text,{children:["Average Duration: ",Ne()(0===l.tracks.items.length?0:l.tracks.items.reduce((function(e,t){return e+Object(R.get)(t,"track.duration_ms")}),0)/l.tracks.items.length)," "]}),Object(n.jsxs)(h.a.Text,{children:["Followers: ",l.followers.total," "]})]}),Object(n.jsxs)(h.a.Title,{className:"radarTitle",level:5,children:["Radar Chart for ",Oe()(a)]}),Object(n.jsx)("div",{className:"radarChart",children:Object(n.jsxs)(ae.i,{cy:"60%",outerRadius:100,width:730,height:250,margin:{top:20},data:j,children:[Object(n.jsx)(ae.f,{}),Object(n.jsx)(ae.e,{dataKey:"name",stroke:"white"}),Object(n.jsx)(ae.g,{angle:90,domain:[0,1]}),Object(n.jsx)(ae.h,{name:a,dataKey:a,stroke:"#8884d8",fill:"#8884d8",fillOpacity:.8})]})}),Object(n.jsxs)("div",{className:"radarInfo",children:[Object(n.jsxs)(h.a.Text,{children:["Average Valence: ",b("valence")]}),Object(n.jsxs)(h.a.Text,{children:["Average Danceability: ",b("danceability")]}),Object(n.jsxs)(h.a.Text,{children:["Average Energy: ",b("energy")]})]}),Object(n.jsx)(h.a.Title,{className:"radarTitle",level:5,children:"Tracklist"}),Object(n.jsx)("div",{className:"trackList",children:l.tracks.items.map((function(e,t){return Object(n.jsxs)(h.a.Text,{style:{marginRight:20},children:[t+1,". ",Object(R.truncate)(e.track.name,{length:20})]})}))})]})};var ke=function(){var e=Object(c.useState)(L.None),t=Object(o.a)(e,2),a=t[0],s=t[1],r=window.location.search,i=Oe()(r.match(/playlistName=(.*)&/)[1]),l=Object(d.h)().pathname;return Object(c.useEffect)((function(){s(l.substring(Object(R.lastIndexOf)(l,"/")+1))}),[l]),Object(n.jsxs)("div",{className:"playlistRoot",children:[Object(n.jsx)(ee,{contentType:a,setContentType:s}),Object(n.jsxs)("div",{className:"contentDiv",children:[Object(n.jsx)(te.a,{className:"pageHeader",title:"".concat(Object(R.startCase)(a)," Graph"),subTitle:"Analysis for ".concat(i)}),function(){if(a===L.BarGraph)return Object(n.jsx)(de,{});if(a===L.Info)return Object(n.jsx)(ye,{});if(a===L.None);else{if(a===L.Report)return Object(n.jsx)(Ce,{});if(a===L.ScatterGraph)return Object(n.jsx)(fe,{})}}()]})]})};var Te=function(){var e=function(){var e=JSON.parse(localStorage.getItem("isAuth")||"false"),t=Object(c.useState)(e),a=Object(o.a)(t,2),n={isAuth:a[0],setIsAuth:a[1]};return[x=Object(c.createContext)(n),n]}(),t=Object(o.a)(e,2),a=t[0],s=t[1];return Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(w.a,{children:Object(n.jsx)(a.Provider,{value:s,children:Object(n.jsx)(l.a,{children:Object(n.jsxs)(d.d,{children:[Object(n.jsx)(N,{path:"/app/playlist/",children:Object(n.jsx)(ke,{})}),Object(n.jsx)(N,{path:"/app/search",children:Object(n.jsx)(Z,{})}),Object(n.jsx)(d.b,{path:"/login",children:Object(n.jsx)(S,{})}),Object(n.jsx)(d.b,{path:"/",component:f})]})})})})})},Se=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,643)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),s(e),r(e)}))};i.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(Te,{})}),document.getElementById("root")),Se()}},[[618,1,2]]]);
//# sourceMappingURL=main.b73d7349.chunk.js.map