(this["webpackJsonpspotify-audio-analysis"]=this["webpackJsonpspotify-audio-analysis"]||[]).push([[0],{334:function(e,t,a){},335:function(e,t,a){},336:function(e,t,a){},337:function(e,t,a){},416:function(e,t,a){},425:function(e,t,a){},426:function(e,t,a){},600:function(e,t,a){},601:function(e,t,a){},606:function(e,t,a){},609:function(e,t,a){},613:function(e,t,a){},618:function(e,t,a){"use strict";a.r(t);var c=a(2),n=a(0),s=a.n(n),r=a(31),i=a.n(r),o=(a(334),a(18)),l=(a(335),a(84)),d=a(44),j=(a(336),a(337),a.p+"static/media/collage.049726ee.jpg"),h=a(628),b=a(113),u=a(621),p=a.p+"static/media/report.e080a35d.png",O=a.p+"static/media/barGraph.623f29bb.png",m=a.p+"static/media/scatter.d49d4958.png";var x,f=function(e){return Object(c.jsxs)("div",{className:"rootContainer",children:[Object(c.jsx)("div",{className:"imageContainer",children:Object(c.jsx)("img",{alt:"background",className:"titleImage",src:j})}),Object(c.jsxs)("div",{className:"contentContainer",children:[Object(c.jsx)("div",{className:"leftContainer",children:Object(c.jsxs)("div",{className:"wrapper",children:[Object(c.jsx)(h.a.Title,{children:"Trumendous Tracks"}),Object(c.jsx)(h.a.Text,{children:"Make the most fire playlist ever"}),Object(c.jsx)(b.a,{style:{marginTop:20},onClick:function(){var e="https://accounts.spotify.com/authorize";e+="?response_type=code",e+="&client_id="+encodeURIComponent("0132ec2527844f11a38d2534ba740119"),e+="&code_challenge_method="+encodeURIComponent("S256"),e+="&redirect_uri="+encodeURIComponent("http://localhost:3000/login"),e+="&code_challenge="+encodeURIComponent("izYoorSARD-nZzl4xsuoPIwZAVIZ1h-OkIL0eSTu-PA"),window.location=e},children:"Get Started"})]})}),Object(c.jsx)("div",{className:"rightContainer",children:Object(c.jsxs)(u.a,{autoplay:!0,children:[Object(c.jsxs)("div",{className:"carouselContentDiv",children:[Object(c.jsx)(h.a.Title,{level:4,children:"Generate a playlist report"}),Object(c.jsx)("img",{width:"700px",alt:"report",className:"reportImage",src:p})]}),Object(c.jsxs)("div",{className:"carouselContentDiv",children:[Object(c.jsx)(h.a.Title,{level:4,children:"Sort the data in a bar graph and find outliers"}),Object(c.jsx)("img",{width:"700px",alt:"report",className:"reportImage",src:O})]}),Object(c.jsxs)("div",{className:"carouselContentDiv",children:[Object(c.jsx)(h.a.Title,{level:4,children:"Compare the data with other playlists"}),Object(c.jsx)("img",{width:"700px",alt:"report",className:"reportImage",src:m})]})]})})]})]})},g=a(51),y=a(307);function v(){return Object(n.useContext)(x)}var N=function(e){var t=e.children,a=Object(y.a)(e,["children"]),n=v().isAuth;return Object(c.jsx)(d.b,Object(g.a)(Object(g.a)({},a),{},{children:!0===n?Object(g.a)({},t):Object(c.jsx)(d.a,{to:"/"})}))},C=a(622),k=a(53),T=a.n(k);var w=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2)[1],a=v(),s=a.isAuth,r=a.setIsAuth,i=Object(C.a)(["Authorization","Refresh"]),l=Object(o.a)(i,2)[1],j=Object(n.useState)(""),h=Object(o.a)(j,2),b=h[0],u=h[1],p=Object(d.g)();Object(n.useEffect)((function(){if(""!==b){var e=new URLSearchParams;e.append("client_id","0132ec2527844f11a38d2534ba740119"),e.append("grant_type","authorization_code"),e.append("code",b),e.append("redirect_uri","http://localhost:3000/login"),e.append("code_verifier","ANz2ppxOjupHIlUeegvCuBMmsaxKxrIqTV25wZHBLRX0m"),T.a.post("https://accounts.spotify.com/api/token",e,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){localStorage.setItem("Authorization",e.data.access_token),localStorage.setItem("Refresh",e.data.refresh_token),r(!0),p.push("/app/search")})).catch((function(){p.push("/")}))}}),[b,s,l,r,p]);var O,m=window.location.search;return m.includes("error")&&t(!0),""===b&&-1!==(O=m.indexOf("code="))&&u(m.substring(O+5)),Object(c.jsx)("div",{})},S=a(625),I=(a(416),a.p+"static/media/search-solid.623743d0.svg"),A=a(631),z=a(623),R=a(43),B=a(199),_=a.n(B),D=a(45),E=a(282);function P(){return(P=Object(E.a)(_.a.mark((function e(t,a){var c,n,s,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=localStorage.getItem("Authorization"),e.next=3,T.a.get("https://api.spotify.com/v1/playlists/".concat(t,"/tracks"),{headers:{Authorization:"Bearer ".concat(c)}}).then((function(e){return e.data.items}));case 3:return n=e.sent,s=n.map((function(e){return e.track.id})).join(","),e.next=7,T.a.get("https://api.spotify.com/v1/audio-features?ids=".concat(s),{headers:{Authorization:"Bearer ".concat(c)}}).then((function(e){return e.data.audio_features.map((function(e){return Object(D.a)({},e.id,e)})).reduce((function(e,t){return Object(g.a)(Object(g.a)({},e),t)}),{})}));case 7:return r=e.sent,e.abrupt("return",K(n,r));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],c=t[1],s=localStorage.getItem("Authorization");return Object(n.useEffect)((function(){T.a.get("https://api.spotify.com/v1/me/playlists",{headers:{Authorization:"Bearer ".concat(s)}}).then((function(e){c(e.data.items)}))}),[s]),[a,c]}function K(e,t){return e.map((function(e){return{name:Object(R.truncate)(e.track.name,{length:18}),danceability:t[e.track.id].danceability,energy:t[e.track.id].energy,valence:t[e.track.id].valence,tempo:t[e.track.id].tempo,loudness:Object(R.round)((t[e.track.id].loudness+60)/60,3)}}))}function F(e){var t=function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),c=a[0],s=a[1],r=localStorage.getItem("Authorization");return Object(n.useEffect)((function(){T.a.get("https://api.spotify.com/v1/playlists/".concat(e,"/tracks"),{headers:{Authorization:"Bearer ".concat(r)}}).then((function(e){s(e.data.items)}))}),[r,e]),c}(e),a=function(e){var t=Object(n.useState)({}),a=Object(o.a)(t,2),c=a[0],s=a[1],r=localStorage.getItem("Authorization"),i=e.map((function(e){return e.track.id})).join(",");return Object(n.useEffect)((function(){0!==e.length&&T.a.get("https://api.spotify.com/v1/audio-features?ids=".concat(i),{headers:{Authorization:"Bearer ".concat(r)}}).then((function(e){var t=e.data.audio_features.map((function(e){return Object(D.a)({},e.id,e)})).reduce((function(e,t){return Object(g.a)(Object(g.a)({},e),t)}),{});s(t)}))}),[r,i,e]),c}(t),c=Object(n.useState)([]),s=Object(o.a)(c,2),r=s[0],i=s[1];return Object(n.useEffect)((function(){if(!Object(R.isEmpty)(t)&&!Object(R.isEmpty)(a)){var e=K(t,a);i(e)}}),[t,a]),[r,i]}T.a.interceptors.response.use((function(e){return e}),(function(e){var t=e.config;if(401===e.response.status){localStorage.setItem("isAuth","false"),t._retry=!0,console.log(localStorage.getItem("Refresh"));var a=new URLSearchParams;a.append("grant_type","refresh_token"),a.append("refresh_token",localStorage.getItem("Refresh")||""),a.append("client_id","0132ec2527844f11a38d2534ba740119"),T.a.post("https://accounts.spotify.com/api/token",a,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){localStorage.setItem("Authorization",e.data.access_token),localStorage.setItem("Refresh",e.data.refresh_token)})).then((function(){localStorage.setItem("isAuth","true"),window.location.reload()}))}}));var L,W,Y,Z=function(e){var t=G(),a=Object(o.a)(t,1)[0],n=Object(d.g)();return Object(c.jsx)("div",{className:"background",children:Object(c.jsxs)("div",{className:"pageContainer",children:[Object(c.jsx)(h.a.Title,{children:"Search for a playlist to get started"}),Object(c.jsx)("div",{className:"searchBox",children:Object(c.jsxs)("form",{className:"searchForm",onSubmit:function(e){e.preventDefault();var t=e.target[0].value,c=Object(R.find)(a,(function(e){return e.name===t}));return n.push("/app/playlist/report?playlistName=".concat(c.name,"&playlistId=").concat(c.id))},children:[Object(c.jsx)(A.a.Group,{className:"searchInput",compact:!0,children:Object(c.jsx)(z.a,{placeholder:"Search Here",options:a.map((function(e){return{value:e.name}}))})}),Object(c.jsx)(b.a,{htmlType:"submit",children:Object(c.jsx)("img",{className:"searchIcon",alt:"searchIcon",src:I})})]})})]})})},U=(a(425),a(426),a(203)),V=a(633),X=a(634),H=a(635),M=a(636),J=a(637),q=a(638),Q=a(639),$=a(640);!function(e){e.None="none",e.BarGraph="bar",e.ScatterGraph="scatter",e.Info="info",e.Report="report",e.Search="search"}(L||(L={})),function(e){e.danceability="danceability",e.energy="energy",e.valence="valence",e.tempo="tempo",e.loudness="loudness"}(W||(W={})),function(e){e.Search="Search",e.BarChart="BarChart",e.ScatterChart="ScatterChart",e.Report="Report",e.Extras="Extras",e.Info="Info"}(Y||(Y={}));var ee=function(e){var t=e.contentType,a=e.setContentType,r=Object(n.useState)(!1),i=Object(o.a)(r,2),l=i[0],j=i[1],u=function(){var e=Object(n.useState)({display_name:"Harsh",images:[]}),t=Object(o.a)(e,2),a=t[0],c=t[1],s=localStorage.getItem("Authorization");return Object(n.useEffect)((function(){T.a.get("https://api.spotify.com/v1/me",{headers:{Authorization:"Bearer ".concat(s)}}).then((function(e){c(e.data)}))}),[s]),a}(),p=Object(d.g)(),O=function(){return u.images&&u.images.length>0};return Object(c.jsxs)("div",{className:l?"sidebarRoot sidebarOpen":"sidebarRoot",children:[Object(c.jsxs)("div",{className:"userInfoCard",children:[!O()&&Object(c.jsx)(V.a,{className:"userIcon"}),O()&&Object(c.jsx)("img",{className:"profileImage",alt:"userImage",src:u.images[0].url}),l&&Object(c.jsx)(h.a.Text,{className:"profileText",children:u.display_name})]}),Object(c.jsx)(b.a,{onClick:function(){return j(!l)},type:"primary",style:{marginBottom:16},children:s.a.createElement(l?H.a:X.a)}),Object(c.jsxs)(U.a,{selectedKeys:[t],inlineCollapsed:!l,className:"sidebarMenu",theme:"dark",mode:"inline",defaultSelectedKeys:[Y.Report.toString()],onClick:function(e){return function(e){var t=e,c=window.location.search;return a(t),t===L.Search?p.push("/app/search"):t===L.BarGraph?p.push("/app/playlist/bar".concat(c)):t===L.ScatterGraph?p.push("/app/playlist/scatter".concat(c)):t===L.Report?p.push("/app/playlist/report".concat(c)):t===L.Info?p.push("/app/playlist/info".concat(c)):void 0}(e.key)},children:[Object(c.jsx)(U.a.Item,{icon:Object(c.jsx)(M.a,{}),children:"Search"},L.Search),Object(c.jsx)(U.a.Item,{icon:Object(c.jsx)(J.a,{}),children:"Report"},L.Report),Object(c.jsx)(U.a.Item,{icon:Object(c.jsx)(q.a,{}),children:"Bar Chart"},L.BarGraph),Object(c.jsx)(U.a.Item,{icon:Object(c.jsx)(Q.a,{}),children:"Scatter Chart"},L.ScatterGraph),Object(c.jsx)(U.a.Item,{icon:Object(c.jsx)($.a,{}),children:"Info"},L.Info)]})]})},te=a(627),ae=a(35);a(600);var ce,ne,se=function(e){var t=e.x,a=e.y,n=e.payload;return Object(c.jsx)("g",{transform:"translate(".concat(t,",").concat(a,")"),children:Object(c.jsx)("text",{className:"graphText",x:0,y:0,dy:3,textAnchor:"end",transform:"rotate(10)",opacity:"0.85",fill:"#ffffff",children:n.value})})},re=a(629),ie=a(632),oe=a(630);a(601);!function(e){e.none="none",e.danceability="danceability",e.energy="energy",e.valence="valence",e.tempo="tempo",e.loudness="loudness"}(ce||(ce={})),function(e){e.ascending="ascending",e.descending="descending"}(ne||(ne={}));var le,de=function(){var e=window.location.search.match(/playlistId=(.*)/)[1],t=Object(n.useState)({danceability:!0,energy:!1,valence:!1,tempo:!1,loudness:!1}),a=Object(o.a)(t,2),s=a[0],r=a[1],i=Object(n.useState)(ce.none),l=Object(o.a)(i,2),d=l[0],j=l[1],b=Object(n.useState)([]),u=Object(o.a)(b,2),p=u[0],O=u[1],m=Object(n.useState)(1),x=Object(o.a)(m,2),f=x[0],y=x[1],v=Object(n.useState)(ne.descending),N=Object(o.a)(v,2),C=N[0],k=N[1],T=Object(n.useCallback)((function(e){return d===ce.none?e:C===ne.descending?e.sort((function(e,t){return e[d]-t[d]})):e.sort((function(e,t){return t[d]-e[d]}))}),[d,C]),w=Object(n.useCallback)((function(e){return e.slice(30*(f-1),30*(f-1)+30)}),[f]),S=F(e),I=Object(o.a)(S,2),A=I[0],z=I[1];return Object(n.useEffect)((function(){var e=T(A);z(e),O(w(e))}),[d,C,A,T,w,z]),Object(c.jsxs)("div",{className:"pageRootBar",children:[Object(c.jsxs)("div",{className:"graphContainerBar",children:[Object(c.jsx)("div",{className:"barGraph",children:Object(c.jsxs)(ae.b,{barCategoryGap:"15%",layout:"vertical",width:730,height:1100,data:p,children:[Object(c.jsx)(ae.c,{strokeDasharray:"3 3"}),Object(c.jsx)(ae.m,{type:"number"}),Object(c.jsx)(ae.n,{tick:Object(c.jsx)(se,{}),type:"category",width:100,interval:0,dataKey:"name"}),Object(c.jsx)(ae.l,{}),Object(c.jsx)(ae.d,{}),s.danceability&&Object(c.jsx)(ae.a,{dataKey:"danceability",fill:"#8884d8"}),s.energy&&Object(c.jsx)(ae.a,{dataKey:"energy",fill:"#84d89d"}),s.valence&&Object(c.jsx)(ae.a,{dataKey:"valence",fill:"#bd84d8"}),s.tempo&&Object(c.jsx)(ae.a,{dataKey:"tempo",fill:"#d88492"}),s.loudness&&Object(c.jsx)(ae.a,{dataKey:"loudness",fill:"#d8d284"})]})}),Object(c.jsxs)("div",{className:"paginateContainer",children:[Object(c.jsx)(h.a.Text,{style:{fontSize:"1rem",fontWeight:"bold"},children:"Pagination"}),Object(c.jsx)(re.a,{simple:!0,onChange:function(e){return y(e)},current:f,pageSize:30,total:A.length})]})]}),Object(c.jsxs)("div",{className:"settingsContainerBar",children:[Object(c.jsxs)("div",{className:"checkboxContainer",children:[Object(c.jsx)(h.a.Text,{style:{fontSize:"1rem",fontWeight:"bold"},children:"Features"}),Object(c.jsxs)("div",{children:[Object(c.jsx)(ie.a,{checked:s.danceability,onChange:function(){return R("danceability")}}),Object(c.jsx)("span",{className:"graphCheckboxText",children:"Danceability"})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)(ie.a,{checked:s.energy,onChange:function(){return R("energy")}}),Object(c.jsx)("span",{className:"graphCheckboxText",children:"Energy"})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)(ie.a,{checked:s.valence,onChange:function(){return R("valence")}}),Object(c.jsx)("span",{className:"graphCheckboxText",children:"Valence"})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)(ie.a,{checked:s.tempo,onChange:function(){return R("tempo")}}),Object(c.jsx)("span",{className:"graphCheckboxText",children:"Tempo"})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)(ie.a,{checked:s.loudness,onChange:function(){return R("loudness")}}),Object(c.jsx)("span",{className:"graphCheckboxText",children:"Loudness"})]})]}),Object(c.jsxs)("div",{className:"sortContainer",children:[Object(c.jsx)(h.a.Text,{style:{fontSize:"1rem",fontWeight:"bold"},children:"Sort By"}),Object(c.jsxs)(oe.a.Group,{value:d,onChange:function(e){return j(e.target.value)},style:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[Object(c.jsx)(oe.a,{value:ce.none,children:Object(c.jsx)("span",{className:"graphCheckboxText",children:"None"})}),Object(c.jsx)(oe.a,{value:ce.danceability,disabled:!s.danceability,children:Object(c.jsx)("span",{className:"graphCheckboxText",children:"Danceability"})}),Object(c.jsx)(oe.a,{value:ce.energy,disabled:!s.energy,children:Object(c.jsx)("span",{className:"graphCheckboxText",children:"Energy"})}),Object(c.jsx)(oe.a,{value:ce.valence,disabled:!s.valence,children:Object(c.jsx)("span",{className:"graphCheckboxText",children:"Valence"})}),Object(c.jsx)(oe.a,{value:ce.tempo,disabled:!s.tempo,children:Object(c.jsx)("span",{className:"graphCheckboxText",children:"Tempo"})}),Object(c.jsx)(oe.a,{value:ce.loudness,disabled:!s.loudness,children:Object(c.jsx)("span",{className:"graphCheckboxText",children:"Loudness"})})]})]}),Object(c.jsxs)("div",{className:"sortContainer",children:[Object(c.jsx)(h.a.Text,{style:{fontSize:"1rem",fontWeight:"bold"},children:"Sort Order"}),Object(c.jsxs)(oe.a.Group,{value:C,onChange:function(e){return k(e.target.value)},style:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[Object(c.jsx)(oe.a,{value:ne.ascending,disabled:d===ce.none,children:Object(c.jsx)("span",{className:"graphCheckboxText",children:"Ascending"})}),Object(c.jsx)(oe.a,{value:ne.descending,disabled:d===ce.none,children:Object(c.jsx)("span",{className:"graphCheckboxText",children:"Descending"})})]})]})]})]});function R(e){r(Object(g.a)(Object(g.a)({},s),{},Object(D.a)({},e,!s[e])))}},je=a(204),he=a(624),be=a(641),ue=a(642),pe=(a(606),a(90)),Oe=a.n(pe),me=["#1791db","#84d89d","#bd84d8","#d88492","#d8d284"],xe=(le={},Object(D.a)(le,W.danceability,[0,1]),Object(D.a)(le,W.energy,[0,1]),Object(D.a)(le,W.loudness,[0,1]),Object(D.a)(le,W.valence,[0,1]),Object(D.a)(le,W.tempo,[0,250]),le);var fe=function(){var e=Object(C.a)(["Authorization"]),t=Object(o.a)(e,1)[0],a=window.location.search,s=a.match(/playlistId=(.*)/)[1],r=a.match(/playlistName=(.*)&/)[1],i=Object(n.useState)({X:W.danceability,Y:W.energy,Z:W.loudness}),l=Object(o.a)(i,2),d=l[0],j=l[1],u=F(s),p=Object(o.a)(u,1)[0],O=G(),m=Object(o.a)(O,1)[0],x=Object(n.useState)([]),f=Object(o.a)(x,2),y=f[0],v=f[1],N=function(e){return Object(c.jsxs)(U.a,{onClick:function(t){return function(e,t){j(Object(g.a)(Object(g.a)({},d),{},Object(D.a)({},t,e.key)))}(t,e)},children:[Object(c.jsx)(U.a.Item,{children:"Danceability"},W.danceability),Object(c.jsx)(U.a.Item,{children:"Energy"},W.energy),Object(c.jsx)(U.a.Item,{children:"Valence"},W.valence),Object(c.jsx)(U.a.Item,{children:"Tempo"},W.tempo),Object(c.jsx)(U.a.Item,{children:"Loudness"},W.loudness)]})};return Object(c.jsxs)("div",{className:"pageRoot",children:[y.length<5&&Object(c.jsx)("div",{className:"settingsContainer",children:Object(c.jsxs)("div",{className:"formContainer",children:["Add more playlists to compare",Object(c.jsxs)("form",{className:"searchForm",onSubmit:function(e){e.preventDefault();var a=e.target[0].value,c=Object(R.find)(m,(function(e){return e.name===a}));(function(e,t){return P.apply(this,arguments)})(c.id,t).then((function(e){v([].concat(Object(je.a)(y),[{playlist:c,graphData:e,visible:!0}]))}))},children:[Object(c.jsx)(A.a.Group,{className:"searchInput",children:Object(c.jsx)(z.a,{placeholder:"",options:m.map((function(e){return{value:e.name}}))})}),Object(c.jsx)(b.a,{htmlType:"submit",children:Object(c.jsx)(be.a,{})})]})]})}),Object(c.jsx)("div",{className:"graphContainer",children:Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("div",{className:"xAxisFeature",children:Object(R.startCase)(d.X)}),Object(c.jsxs)("div",{className:"graph",children:[Object(c.jsxs)(ae.k,{width:730,height:730,margin:{top:20,right:0,bottom:10,left:0},children:[Object(c.jsx)(ae.m,{dataKey:d.X,type:"number",domain:xe[d.X],name:"danceability"}),Object(c.jsx)(ae.n,{dataKey:d.Y,type:"number",domain:xe[d.Y],name:"energy"}),Object(c.jsx)(ae.o,{dataKey:d.Z,type:"number",range:[0,300],name:"valence"}),Object(c.jsx)(ae.l,{cursor:{strokeDasharray:"3 3"}}),Object(c.jsx)(ae.d,{}),Object(c.jsx)(ae.c,{strokeDasharray:"5 5"}),Object(c.jsx)(ae.j,{name:Oe()(r),data:p,fill:"#8884d8"}),y.map((function(e,t){return e.visible&&Object(c.jsx)(ae.j,{name:e.playlist.name,data:e.graphData,fill:me[t]})}))]}),Object(c.jsx)("div",{children:Object(R.startCase)(d.Y)})]}),Object(c.jsxs)("div",{className:"selectedPlaylists",children:[y.length>0&&Object(c.jsx)("span",{children:"Visible Playlists"}),y.map((function(e,t){return Object(c.jsx)("div",{children:Object(c.jsx)(ie.a,{checked:e.visible,onClick:function(){return function(e){for(var t=0;t<y.length;t++)y[t].playlist.id===e&&(y[t].visible=!y[t].visible);v(Object(je.a)(y))}(e.playlist.id)},className:"selectedPlaylistCheckbox",children:e.playlist.name},e.playlist.id)})}))]})]})}),Object(c.jsxs)("div",{className:"settingsContainer",children:[Object(c.jsxs)("div",{className:"dropdownLabelContainer",children:[Object(c.jsx)(h.a.Text,{children:"X-Axis Feature"}),Object(c.jsx)(he.a,{overlay:N("X"),children:Object(c.jsxs)(b.a,{children:[Object(R.startCase)(d.X)," ",Object(c.jsx)(ue.a,{})]})})]}),Object(c.jsxs)("div",{className:"dropdownLabelContainer",children:[Object(c.jsx)(h.a.Text,{children:"Y-Axis Feature"}),Object(c.jsx)(he.a,{overlay:N("Y"),children:Object(c.jsxs)(b.a,{children:[Object(R.startCase)(d.Y)," ",Object(c.jsx)(ue.a,{})]})})]}),Object(c.jsxs)("div",{className:"dropdownLabelContainer",children:[Object(c.jsx)(h.a.Text,{children:"Z-Axis Feature"}),Object(c.jsx)(he.a,{overlay:N("Z"),children:Object(c.jsxs)(b.a,{children:[Object(R.startCase)(d.Z)," ",Object(c.jsx)(ue.a,{})]})})]})]})]})},ge=a(626);a(609);var ye=function(){return Object(c.jsx)("div",{className:"infoPageRoot",children:Object(c.jsxs)("div",{className:"cardContainer",children:[Object(c.jsx)(ge.a,{className:"card",title:"What is this?",bordered:!0,style:{width:"100%"},children:Object(c.jsx)(h.a.Paragraph,{children:"This tool allows a user to analyze their playlist objectively. By analyzing different things such as the: valence, danceability, energy of a track We are able to create the ultimate playlist. Trying to create a study playlist? Well you probably don't want extremely high energy songs. Trying to create a banger playlist for your next event? You probably want your songs to have a low danceability. Use this tool to help you craft the ultimate playlist"})}),Object(c.jsx)(ge.a,{className:"card",title:"What are my analysis tools?",bordered:!0,style:{width:"100%"},children:Object(c.jsx)(h.a.Paragraph,{children:"As of now we offer two tools. You can sort and organize your data into a bar graph, where you can find the outliers and address them appropriately. However, this playlist data on its own is not extremely useful. We make is more useful by offering another scatter chart tool. Here you can add up to 5 playlists, and see how all of them stack up against one another. Then you can compare with your favourite playlists and see how your playlist stacks up against them."})}),Object(c.jsxs)(ge.a,{className:"card subCardContainer",title:"What do all these features mean?",bordered:!0,style:{width:"100%"},children:[Object(c.jsx)(ge.a,{className:"subCard",title:"Danceability",bordered:!0,style:{width:"100%"},children:Object(c.jsx)(h.a.Paragraph,{children:"Danceability describes how suitable a track is for dancing based on a combination of musical elements including tempo, rhythm stability, beat strength, and overall regularity. A value of 0.0 is least danceable and 1.0 is most danceable."})}),Object(c.jsx)(ge.a,{className:"subCard",title:"Energy",bordered:!0,style:{width:"100%"},children:Object(c.jsx)(h.a.Paragraph,{children:"Energy is a measure from 0.0 to 1.0 and represents a perceptual measure of intensity and activity. Typically, energetic tracks feel fast, loud, and noisy. For example, death metal has high energy, while a Bach prelude scores low on the scale. Perceptual features contributing to this attribute include dynamic range, perceived loudness, timbre, onset rate, and general entropy."})}),Object(c.jsx)(ge.a,{className:"subCard",title:"Valence",bordered:!0,style:{width:"100%"},children:Object(c.jsx)(h.a.Paragraph,{children:"A measure from 0.0 to 1.0 describing the musical positiveness conveyed by a track. Tracks with high valence sound more positive (e.g. happy, cheerful, euphoric), while tracks with low valence sound more negative (e.g. sad, depressed, angry)."})}),Object(c.jsx)(ge.a,{className:"subCard",title:"Tempo",bordered:!0,style:{width:"100%"},children:Object(c.jsx)(h.a.Paragraph,{children:"The overall estimated tempo of a track in beats per minute (BPM). In musical terminology, tempo is the speed or pace of a given piece and derives directly from the average beat duration."})})]})]})})},ve=a(202),Ne=a.n(ve);a(613);var Ce=function(){var e=window.location.search,t=e.match(/playlistId=(.*)/)[1],a=e.match(/playlistName=(.*)&/)[1],s=function(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),c=a[0],s=a[1],r=localStorage.getItem("Authorization");return Object(n.useEffect)((function(){T.a.get("https://api.spotify.com/v1/playlists/".concat(e,"/images"),{headers:{Authorization:"Bearer ".concat(r)}}).then((function(e){s(e.data[0].url)}))})),[c,s]}(t),r=Object(o.a)(s,1)[0],i=function(e){var t=Object(n.useState)({name:"",id:"",description:"",owner:{display_name:""},tracks:{items:[]},followers:{total:0}}),a=Object(o.a)(t,2),c=a[0],s=a[1],r=localStorage.getItem("Authorization");return Object(n.useEffect)((function(){T.a.get("https://api.spotify.com/v1/playlists/".concat(e),{headers:{Authorization:"Bearer ".concat(r)}}).then((function(e){s(e.data)}))}),[r,e]),[c,s]}(t),l=Object(o.a)(i,1)[0],d=function(e,t){var a=Object(n.useState)([Object(D.a)({name:"danceability"},t,0),Object(D.a)({name:"energy"},t,0),Object(D.a)({name:"valence"},t,0)]),c=Object(o.a)(a,2),s=c[0],r=c[1],i=localStorage.getItem("Authorization");return Object(n.useEffect)((function(){T.a.get("https://api.spotify.com/v1/playlists/".concat(e,"/tracks"),{headers:{Authorization:"Bearer ".concat(i)}}).then((function(e){return e.data.items.map((function(e){return Object(D.a)({},e.track.name,Object(g.a)({},e))}))})).then((function(e){return e.map((function(e){return e[Object.keys(e)[0]].track.id})).join(",")})).then((function(e){return T.a.get("https://api.spotify.com/v1/audio-features?ids=".concat(e),{headers:{Authorization:"Bearer ".concat(i)}})})).then((function(e){return e?e.data.audio_features:[]})).then((function(e){return e.reduce((function(t,a){return{danceability:t.danceability+a.danceability/e.length,energy:t.energy+a.energy/e.length,valence:t.valence+a.valence/e.length,tempo:t.tempo+a.tempo/e.length,loudness:t.loudness+a.loudness/e.length}}),{danceability:0,energy:0,valence:0,tempo:0,loudness:0})})).then((function(e){var a={danceability:Object(D.a)({name:"danceability"},t,e.danceability),energy:Object(D.a)({name:"energy"},t,e.energy),valence:Object(D.a)({name:"valence"},t,e.valence)};r(Object.values(a))}))}),[i,e,t]),[s,r]}(t,a),j=Object(o.a)(d,1)[0];function b(e){var t=Object(R.find)(j,(function(t){return t.name===e}))[a];return"".concat(Object(R.round)(100*t,0),"%")}return Object(c.jsxs)("div",{className:"reportRoot",children:[Object(c.jsx)("div",{className:"header",children:Object(c.jsxs)("div",{className:"headerTitleContainer",children:[Object(c.jsx)("img",{className:"playlistCoverImage",alt:"playlist cover",src:r}),Object(c.jsxs)("div",{className:"headerTextContainer",children:[Object(c.jsx)(h.a.Text,{className:"headerTitle",children:"Report for ".concat(Oe()(a))}),Object(c.jsx)(h.a.Text,{className:"headerSubtitle",children:l.description}),Object(c.jsxs)(h.a.Text,{children:["By: ",l.owner.display_name]})]})]})}),Object(c.jsxs)("div",{className:"infoContainer",children:[Object(c.jsxs)(h.a.Text,{children:["Tracks: ",Object(R.get)(l,"tracks.items",[]).length," "]}),Object(c.jsxs)(h.a.Text,{children:["Total Duration: ",Ne()(0===l.tracks.items.length?0:l.tracks.items.reduce((function(e,t){return e+Object(R.get)(t,"track.duration_ms")}),0))," "]}),Object(c.jsxs)(h.a.Text,{children:["Average Duration: ",Ne()(0===l.tracks.items.length?0:l.tracks.items.reduce((function(e,t){return e+Object(R.get)(t,"track.duration_ms")}),0)/l.tracks.items.length)," "]}),Object(c.jsxs)(h.a.Text,{children:["Followers: ",l.followers.total," "]})]}),Object(c.jsxs)(h.a.Title,{className:"radarTitle",level:5,children:["Radar Chart for ",Oe()(a)]}),Object(c.jsx)("div",{className:"radarChart",children:Object(c.jsxs)(ae.i,{cy:"60%",outerRadius:100,width:730,height:250,margin:{top:20},data:j,children:[Object(c.jsx)(ae.f,{}),Object(c.jsx)(ae.e,{dataKey:"name",stroke:"white"}),Object(c.jsx)(ae.g,{angle:90,domain:[0,1]}),Object(c.jsx)(ae.h,{name:a,dataKey:a,stroke:"#8884d8",fill:"#8884d8",fillOpacity:.8})]})}),Object(c.jsxs)("div",{className:"radarInfo",children:[Object(c.jsxs)(h.a.Text,{children:["Average Valence: ",b("valence")]}),Object(c.jsxs)(h.a.Text,{children:["Average Danceability: ",b("danceability")]}),Object(c.jsxs)(h.a.Text,{children:["Average Energy: ",b("energy")]})]}),Object(c.jsx)(h.a.Title,{className:"radarTitle",level:5,children:"Tracklist"}),Object(c.jsx)("div",{className:"trackList",children:l.tracks.items.map((function(e,t){return Object(c.jsxs)(h.a.Text,{style:{marginRight:20},children:[t+1,". ",Object(R.truncate)(e.track.name,{length:20})]})}))})]})};var ke=function(){var e=Object(n.useState)(L.None),t=Object(o.a)(e,2),a=t[0],s=t[1],r=window.location.search,i=Oe()(r.match(/playlistName=(.*)&/)[1]),l=Object(d.h)().pathname;return Object(n.useEffect)((function(){s(l.substring(Object(R.lastIndexOf)(l,"/")+1))}),[l]),Object(c.jsxs)("div",{className:"playlistRoot",children:[Object(c.jsx)(ee,{contentType:a,setContentType:s}),Object(c.jsxs)("div",{className:"contentDiv",children:[Object(c.jsx)(te.a,{className:"pageHeader",title:"".concat(Object(R.startCase)(a)," Graph"),subTitle:"Analysis for ".concat(i)}),function(){if(a===L.BarGraph)return Object(c.jsx)(de,{});if(a===L.Info)return Object(c.jsx)(ye,{});if(a===L.None);else{if(a===L.Report)return Object(c.jsx)(Ce,{});if(a===L.ScatterGraph)return Object(c.jsx)(fe,{})}}()]})]})};var Te=function(){var e=function(){var e=JSON.parse(localStorage.getItem("isAuth")||"false"),t=Object(n.useState)(e),a=Object(o.a)(t,2),c={isAuth:a[0],setIsAuth:a[1]};return[x=Object(n.createContext)(c),c]}(),t=Object(o.a)(e,2),a=t[0],s=t[1];return Object(c.jsx)("div",{className:"App",children:Object(c.jsx)(S.a,{children:Object(c.jsx)(a.Provider,{value:s,children:Object(c.jsx)(l.a,{children:Object(c.jsxs)(d.d,{children:[Object(c.jsx)(N,{path:"/app/playlist/",children:Object(c.jsx)(ke,{})}),Object(c.jsx)(N,{path:"/app/search",children:Object(c.jsx)(Z,{})}),Object(c.jsx)(d.b,{path:"/login",children:Object(c.jsx)(w,{})}),Object(c.jsx)(d.b,{path:"/",component:f})]})})})})})},we=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,643)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),c(e),n(e),s(e),r(e)}))};i.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(Te,{})}),document.getElementById("root")),we()}},[[618,1,2]]]);
//# sourceMappingURL=main.396458d3.chunk.js.map